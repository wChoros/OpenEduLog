@use '../../../public/styles/variables'

#composeMessageView
    width: 100%
    padding: 20px 50px
    display: flex
    flex-direction: column
    align-items: center
    justify-content: flex-start
    background-color: variables.$accent-light-gray
    min-height: 100vh

    .headerRow
        width: 90%
        display: flex
        justify-content: space-between
        align-items: center
        margin-bottom: 20px

        h1.dashboardSectionTitle
            margin: 0
            font-size: 32px
            font-weight: 600
            color: variables.$primary-color

        .backButton
            color: #666
            text-decoration: none
            font-weight: 500
            transition: color 0.2s

            &:hover
                color: variables.$error-color

    .composeContainer
        width: 90%
        background-color: #fff
        border-radius: 12px
        box-shadow: variables.$strong-shadow
        padding: 40px

        .errorMessage
            background-color: #fff1f0
            border: 1px solid #ffa39e
            color: variables.$error-color
            padding: 10px 15px
            border-radius: 6px
            margin-bottom: 20px

        .formGroup
            display: flex
            flex-direction: column
            margin-bottom: 25px

            label
                font-weight: 600
                margin-bottom: 8px
                color: #555

            input[type="text"], textarea
                padding: 12px 15px
                border: 1px solid #ddd
                border-radius: 8px
                font-size: 16px
                transition: border-color 0.2s, box-shadow 0.2s

                &:focus
                    outline: none
                    border-color: variables.$primary-color
                    box-shadow: 0 0 0 2px rgba(variables.$primary-color, 0.1)

            textarea
                min-height: 250px
                resize: vertical

        .recipientGroup
            .recipientInputWrapper
                position: relative
                display: flex
                flex-wrap: wrap
                align-items: center
                gap: 8px
                padding: 8px 12px
                border: 1px solid #ddd
                border-radius: 8px
                min-height: 48px

                &:focus-within
                    border-color: variables.$primary-color
                    box-shadow: 0 0 0 2px rgba(variables.$primary-color, 0.1)

                .selectedRecipients
                    display: flex
                    flex-wrap: wrap
                    gap: 6px

                    .recipientBadge
                        background-color: #e6f7ff
                        border: 1px solid #91d5ff
                        color: #1890ff
                        padding: 2px 10px
                        border-radius: 4px
                        font-size: 14px
                        display: flex
                        align-items: center
                        gap: 6px

                        button
                            background: none
                            border: none
                            color: #1890ff
                            font-size: 18px
                            cursor: pointer
                            padding: 0
                            line-height: 1
                            
                            &:hover
                                color: variables.$error-color

                input
                    flex: 1
                    border: none
                    padding: 4px
                    font-size: 16px
                    min-width: 150px
                    &:focus
                        outline: none
                        box-shadow: none

                .searchResults
                    position: absolute
                    top: 100%
                    left: 0
                    right: 0
                    background-color: #fff
                    border: 1px solid #ddd
                    border-radius: 8px
                    box-shadow: variables.$soft-shadow
                    z-index: 10
                    margin-top: 5px
                    max-height: 200px
                    overflow-y: auto

                    .searchItem
                        padding: 12px 15px
                        cursor: pointer
                        display: flex
                        justify-content: space-between
                        align-items: center
                        border-bottom: 1px solid #f0f0f0

                        &:last-child
                            border-bottom: none

                        &:hover
                            background-color: #f5f5f5

                        .userName
                            font-weight: 500

                        .userRole
                            font-size: 12px
                            color: #888
                            text-transform: uppercase

        .formActions
            display: flex
            justify-content: flex-end
            margin-top: 20px

            .sendButton
                background-color: variables.$secondary-color
                color: #fff
                padding: 12px 30px
                border-radius: 8px
                font-weight: 600
                font-size: 16px
                border: none
                cursor: pointer
                transition: all 0.2s
                box-shadow: variables.$soft-shadow

                &:hover:not(:disabled)
                    background-color: darken(variables.$secondary-color, 10%)
                    transform: translateY(-2px)

                &:disabled
                    opacity: 0.6
                    cursor: not-allowed
